"""
AGF避障导航系统配置文件
"""

# =============================================================================
# APF参数配置
# =============================================================================

APF_CONFIG = {
    # 引力场参数
    'k_att': 1.0,           # 引力系数，控制目标吸引力强度
    
    # 斥力场参数
    'k_rep': 2.0,           # 斥力系数，控制障碍物排斥力强度
    'd0': 0.5,              # 斥力影响范围（米），超过此距离斥力为0
    
    # 路径规划参数
    'step_size': 0.2,       # 每次规划的步长（米）
    'goal_threshold': 0.1,  # 认为到达目标的距离阈值（米）
}

# =============================================================================
# 导航控制配置
# =============================================================================

NAVIGATION_CONFIG = {
    'apf_update_freq': 3,   # APF更新频率（每N步更新一次中间目标，更频繁的更新）
    'max_steps': 2000,      # 最大导航步数（增加以支持更长距离）
    'verbose': True,        # 是否显示详细输出
    'goal_threshold': 0.25, # 目标到达判定距离（放宽判定）
}

# =============================================================================
# 障碍物配置（与space_expander.py保持一致）
# =============================================================================

OBSTACLES_CONFIG = [
    {
        'name': '蓝色圆柱',
        'position': [0.0, -0.6, 0.0],  # [x, y, z] 圆柱底部位置
        'radius': 0.10,                 # 圆柱半径（米）
        'height': 1.0,                  # 圆柱高度（米）
        'color': 'blue'
    },
    {
        'name': '红色圆柱',
        'position': [0.0, 0.6, 0.0],
        'radius': 0.10,
        'height': 1.0,
        'color': 'red'
    }
]

# =============================================================================
# 测试场景配置
# =============================================================================

TEST_SCENARIOS = {
    # 场景1: 端到端穿越（推荐测试）
    'end_to_end': {
        'start': [-1.2, 0.0, 0.5],
        'target': [1.2, 0.0, 0.5],
        'description': '从地图左端飞到右端，依次穿过两个圆柱'
    },
    
    # 场景2: 对角线穿越
    'diagonal': {
        'start': [-1.0, -1.0, 0.5],
        'target': [1.0, 1.0, 1.5],
        'description': '从左下角飞到右上角'
    },
    
    # 场景3: 左侧绕行
    'left_detour': {
        'start': [-0.8, 0.0, 0.5],
        'target': [0.8, -0.8, 1.0],
        'description': '从左侧绕过障碍物'
    },
    
    # 场景4: 右侧绕行
    'right_detour': {
        'start': [-0.8, 0.0, 0.5],
        'target': [0.8, 0.8, 1.0],
        'description': '从右侧绕过障碍物'
    },
    
    # 场景5: S形穿越（依次通过两个圆柱）
    's_shape': {
        'start': [-1.3, -1.3, 0.5],
        'target': [1.3, 1.3, 1.0],
        'description': 'S形轨迹，依次穿过左下和右上的圆柱形成S形'
    }
}

# =============================================================================
# 性能配置
# =============================================================================

PERFORMANCE_CONFIG = {
    'collision_warning_distance': 0.15,  # 碰撞警告距离（米）
    'trajectory_recording': True,        # 是否记录轨迹
    'stats_display_interval': 10,        # 统计信息显示间隔（步）
}

# =============================================================================
# 调试配置
# =============================================================================

DEBUG_CONFIG = {
    'show_forces': False,          # 是否显示力场信息
    'show_waypoints': True,        # 是否显示中间路径点
    'log_apf_updates': True,       # 是否记录APF更新
    'save_trajectory': False,      # 是否保存轨迹到文件
}

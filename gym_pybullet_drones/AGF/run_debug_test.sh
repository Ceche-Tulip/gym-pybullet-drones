#!/bin/bash
# AGF调试测试脚本

echo "========================================================================"
echo "🔍 AGF系统详细调试测试"
echo "========================================================================"
echo ""
echo "测试场景: 从 (-1, -1, 0.5) 到 (1, 1, 0.5)"
echo "直线距离: 2.83米"
echo "预期问题: 可能在0.7附近卡住"
echo ""
echo "========================================================================"
echo ""

# 激活conda环境并运行测试
conda run -n drones python test_agf_navigation.py --start -1 -1 0.5 --target 1 1 0.5 2>&1 | tee debug_output.log

echo ""
echo "========================================================================"
echo "测试完成！调试输出已保存到 debug_output.log"
echo "========================================================================"
echo ""
echo "关键诊断点:"
echo "1. 检查 '航点距离' 是否超过 0.7m"
echo "2. 检查 '观测目标距离' 是否超过 0.8m"
echo "3. 检查 '打转检测' 的移动距离"
echo "4. 查看无人机卡在哪个位置"
echo ""

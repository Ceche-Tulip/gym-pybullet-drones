#!/bin/bash
# AGFå¯¼èˆªç³»ç»Ÿ - éšœç¢ç‰©ç»•è¡Œæµ‹è¯•å¥—ä»¶
# æµ‹è¯•ä¸åŒèµ·ç‚¹å’Œç»ˆç‚¹é…ç½®ä¸‹çš„å¯¼èˆªæ•ˆæœ

echo "========================================================================"
echo "ğŸ§ª AGFå¯¼èˆª - éšœç¢ç‰©é…ç½®æµ‹è¯•"
echo "========================================================================"
echo ""

# éšœç¢ç‰©é…ç½®è¯´æ˜
echo "ğŸ“ å½“å‰éšœç¢ç‰©é…ç½®ï¼š"
echo "   - è“è‰²åœ†æŸ±ï¼ˆå·¦ä¸‹ï¼‰: (0.6, -0.5, 0.5), åŠå¾„0.1m"
echo "   - çº¢è‰²åœ†æŸ±ï¼ˆå³ä¸Šï¼‰: (-0.6, +0.5, 0.5), åŠå¾„0.1m"
echo "   - é€šé“å®½åº¦: 1.0m (Yè½´æ–¹å‘)"
echo ""
echo "========================================================================"
echo ""

# æµ‹è¯•1: ä»å·¦ä¸‹åˆ°å³ä¸Šï¼ˆå¯¹è§’çº¿ç©¿è¿‡éšœç¢ç‰©åŒºåŸŸï¼‰
echo "ğŸ“‹ æµ‹è¯•1: å¯¹è§’çº¿ç©¿è¶Šï¼ˆä»å·¦ä¸‹åˆ°å³ä¸Šï¼‰"
echo "   èµ·ç‚¹: (-1.0, -1.0, 0.5)"
echo "   ç»ˆç‚¹: ( 1.0,  1.0, 0.5)"
echo "   ç›´çº¿è·ç¦»: 2.83m"
echo "   é¢„æœŸ: éœ€è¦ç»•è¿‡éšœç¢ç‰©ï¼ŒAPFåº”è¯¥å¼•å¯¼æ— äººæœºé¿å¼€"
echo "------------------------------------------------------------------------"
read -p "æŒ‰å›è½¦å¼€å§‹æµ‹è¯•1..."
conda run -n drones python test_agf_navigation.py --start -1.0 -1.0 0.5 --target 1.0 1.0 0.5 2>&1 | tee test1_diagonal.log
echo ""
echo "========================================================================"
echo ""

# æµ‹è¯•2: ä»å·¦ä¾§åˆ°å³ä¾§ï¼ˆæ¨ªå‘ç›´ç©¿ï¼Œéšœç¢ç‰©åœ¨ä¾§é¢ï¼‰
echo "ğŸ“‹ æµ‹è¯•2: æ¨ªå‘ç›´ç©¿ï¼ˆä»å·¦åˆ°å³ï¼‰"
echo "   èµ·ç‚¹: (-1.0, 0.0, 0.5)"
echo "   ç»ˆç‚¹: ( 1.0, 0.0, 0.5)"
echo "   ç›´çº¿è·ç¦»: 2.00m"
echo "   é¢„æœŸ: éšœç¢ç‰©åœ¨Y=Â±0.5ï¼Œä¸ç›´æ¥é˜»æŒ¡è·¯å¾„ï¼Œåº”è¯¥å®¹æ˜“é€šè¿‡"
echo "------------------------------------------------------------------------"
read -p "æŒ‰å›è½¦å¼€å§‹æµ‹è¯•2..."
conda run -n drones python test_agf_navigation.py --start -1.0 0.0 0.5 --target 1.0 0.0 0.5 2>&1 | tee test2_horizontal.log
echo ""
echo "========================================================================"
echo ""

# æµ‹è¯•3: ä»ä¸‹åˆ°ä¸Šï¼ˆçºµå‘ç©¿è¿‡ä¸¤æŸ±ä¹‹é—´ï¼‰
echo "ğŸ“‹ æµ‹è¯•3: çºµå‘ç©¿è¿‡ï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰"
echo "   èµ·ç‚¹: (0.0, -1.2, 0.5)"
echo "   ç»ˆç‚¹: (0.0,  1.2, 0.5)"
echo "   ç›´çº¿è·ç¦»: 2.40m"
echo "   é¢„æœŸ: ç©¿è¿‡1.0må®½çš„é€šé“ï¼Œåº”è¯¥å¯ä»¥é€šè¿‡"
echo "------------------------------------------------------------------------"
read -p "æŒ‰å›è½¦å¼€å§‹æµ‹è¯•3..."
conda run -n drones python test_agf_navigation.py --start 0.0 -1.2 0.5 --target 0.0 1.2 0.5 2>&1 | tee test3_vertical.log
echo ""
echo "========================================================================"
echo ""

# æµ‹è¯•4: ä»éšœç¢ç‰©å·¦ä¾§ç»•åˆ°éšœç¢ç‰©åæ–¹
echo "ğŸ“‹ æµ‹è¯•4: ä»å·¦ä¾§ç»•åˆ°éšœç¢ç‰©ä¸­å¿ƒåæ–¹"
echo "   èµ·ç‚¹: (-0.5, 0.0, 0.5)"
echo "   ç»ˆç‚¹: ( 0.8, 0.0, 0.5)"
echo "   ç›´çº¿è·ç¦»: 1.30m"
echo "   é¢„æœŸ: éœ€è¦ç»•è¿‡x=0.6çš„éšœç¢ç‰©"
echo "------------------------------------------------------------------------"
read -p "æŒ‰å›è½¦å¼€å§‹æµ‹è¯•4..."
conda run -n drones python test_agf_navigation.py --start -0.5 0.0 0.5 --target 0.8 0.0 0.5 2>&1 | tee test4_around.log
echo ""
echo "========================================================================"
echo ""

# æ±‡æ€»ç»“æœ
echo "ğŸ“Š æµ‹è¯•æ±‡æ€»"
echo "========================================================================"
echo ""
echo "æµ‹è¯•1ï¼ˆå¯¹è§’çº¿ï¼‰ç»“æœ:"
grep -E "(æ˜¯å¦åˆ°è¾¾|æ€»æ­¥æ•°)" test1_diagonal.log | tail -2
echo ""
echo "æµ‹è¯•2ï¼ˆæ¨ªå‘ï¼‰ç»“æœ:"
grep -E "(æ˜¯å¦åˆ°è¾¾|æ€»æ­¥æ•°)" test2_horizontal.log | tail -2
echo ""
echo "æµ‹è¯•3ï¼ˆçºµå‘ï¼‰ç»“æœ:"
grep -E "(æ˜¯å¦åˆ°è¾¾|æ€»æ­¥æ•°)" test3_vertical.log | tail -2
echo ""
echo "æµ‹è¯•4ï¼ˆç»•è¡Œï¼‰ç»“æœ:"
grep -E "(æ˜¯å¦åˆ°è¾¾|æ€»æ­¥æ•°)" test4_around.log | tail -2
echo ""
echo "========================================================================"
echo "âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆï¼"
echo "========================================================================"
